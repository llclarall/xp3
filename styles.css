        :root {
            --glass: rgba(255, 255, 255, 0.9);
            --primary: #FFD700;
            --text-dark: #2c3e50;
            --c-pre: #2c3e50; --c-ant: #e67e22; --c-moy: #27ae60; --c-mod: #7f8c8d;
        }

        body {
            margin: 0; padding: 0; overflow: hidden; height: 100vh; width: 100vw;
            font-family: 'Fredoka', sans-serif; background: #222;
            user-select: none; touch-action: none; display: flex; flex-direction: column;
        }

        /* --- MONDE & DÉCORS --- */
        #game-viewport { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; overflow: hidden; }
        #world-track { display: flex; height: 100%; width: 400%; will-change: transform; transition: transform 0.1s linear; }
        .era-slide { flex: 1; height: 100%; position: relative; overflow: hidden; }

        /* ATMOSPHÈRES & DÉCORS CSS */
        .slide-1 { background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364); }
        .mountain { position: absolute; bottom: 100px; left: 0; width: 100%; height: 50%; background: #141E30; clip-path: polygon(0% 100%, 15% 30%, 30% 80%, 45% 40%, 60% 90%, 75% 20%, 90% 60%, 100% 100%); opacity: 0.8; z-index: 1; }
        /* La Grotte de Cro-Magnon */
        .cave { position: absolute; bottom: 100px; left: 10%; width: 250px; height: 180px; background: #080808; border-radius: 50% 50% 0 0; z-index: 2; box-shadow: inset 0 20px 40px rgba(0,0,0,0.8); border: 2px solid rgba(255,255,255,0.1); }
        .bg-stars { position: absolute; top:0; left:0; width:100%; height:80%; background-image: radial-gradient(white 2px, transparent 2px); background-size: 60px 60px; opacity: 0.6; animation: twinkle 4s infinite; }

        .slide-2 { background: linear-gradient(to bottom, #FF8008, #FFC837); }
        .dunes { position: absolute; bottom: 100px; left: 0; width: 120%; height: 40%; background: #e67e22; border-radius: 100% 100% 0 0; transform: translateX(-10%); z-index: 1; }
        .sun { position: absolute; top: 15%; right: 20%; width: 15vh; height: 15vh; background: #FFF; border-radius: 50%; box-shadow: 0 0 60px #FFD54F; animation: rotateSun 30s linear infinite; }

        .slide-3 { background: linear-gradient(to bottom, #2980B9, #6DD5FA); }
        .hills { position: absolute; bottom: 100px; left: -10%; width: 120%; height: 45%; background: #27ae60; border-radius: 50% 50% 0 0; z-index: 1; }

        .slide-4 { background: linear-gradient(to bottom, #bdc3c7, #2c3e50); }
        .city { position: absolute; bottom: 100px; left: 0; width: 100%; height: 35%; background: linear-gradient(#34495e, #34495e) 5% 100% / 8% 60% no-repeat, linear-gradient(#2c3e50, #2c3e50) 20% 100% / 10% 80% no-repeat, linear-gradient(#34495e, #34495e) 40% 100% / 12% 50% no-repeat, linear-gradient(#2c3e50, #2c3e50) 80% 100% / 10% 70% no-repeat; z-index: 1; opacity: 0.8; }

        /* --- PROPS & HOTSPOTS --- */
        .prop-group { position: absolute; bottom: 200px; z-index: 10; transition: transform 0.3s; }
        .prop-emoji { font-size: 16vh; filter: drop-shadow(0 10px 10px rgba(0,0,0,0.3)); }
        .fire-anim { animation: flicker 0.5s infinite alternate; transform-origin: center bottom; }

        /* Bouton Hotspot (?) */
        .hotspot-btn {
            position: absolute; top: -10px; right: -10px;
            width: 40px; height: 40px; background: rgba(255,255,255,0.9);
            border-radius: 50%; border: 3px solid var(--primary);
            color: var(--text-dark); font-weight: bold; font-size: 20px;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: pulseBtn 2s infinite;
        }
        .hotspot-btn:active { transform: scale(0.9); }

        /* Bulle Info */
        .info-bubble {
            position: absolute; bottom: 110%; left: 50%; transform: translateX(-50%) scale(0);
            width: 220px; background: white; padding: 15px; border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4); text-align: center;
            font-size: 16px; color: #333; pointer-events: none; opacity: 0;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); z-index: 100;
        }
        .info-bubble.active { transform: translateX(-50%) scale(1); opacity: 1; pointer-events: auto; }
        .info-bubble::after { content:''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); border-width: 10px 10px 0; border-style: solid; border-color: white transparent transparent; }

        /* SOL & DATES */
        .ground { position: absolute; bottom: 120px; width: 100%; height: 80px; border-bottom: 2px solid rgba(255,255,255,0.3); z-index: 20; }
        .timeline-markers { position: absolute; bottom: -10px; left: 0; width: 100%; height: 100%; }
        .marker-main { position: absolute; bottom: 20px; background: #2D3436; color: white; padding: 10px 25px; border-radius: 15px; font-size: 2.5vh; font-weight: 900; border: 2px solid rgba(255,255,255,0.5); }
        .marker-sub { position: absolute; bottom: 0; height: 30px; border-left: 3px solid rgba(255,255,255,0.5); display: flex; flex-direction: column; align-items: center; }
        .marker-sub span { margin-top: -25px; background: rgba(255,255,255,0.9); color: #333; padding: 2px 8px; border-radius: 5px; font-weight: bold; font-size: 1.5vh; white-space: nowrap; }

        .era-watermark { position: absolute; top: 15%; left: 50%; transform: translateX(-50%); font-size: 10vw; font-weight: 900; color: rgba(255, 255, 255, 0.39); text-transform: uppercase; letter-spacing: 20px; pointer-events: none; width: 100%; text-align: center; }

        /* --- UI HAUTE (MISSION & AUDIO) --- */
        .top-hud {
            position: absolute; top: 20px; left: 20px; right: 20px;
            display: flex; justify-content: space-between; align-items: flex-start;
            z-index: 100;
        }

        .mission-group { display: flex; gap: 20px; align-items: flex-start; }

        .mission-bubble {
            background: var(--glass); backdrop-filter: blur(12px);
            border: 2px solid white; border-radius: 20px;
            padding: 15px 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex; flex-direction: column;
        }
        .m-title { font-size: 14px; text-transform: uppercase; color: #666; font-weight: bold; margin-bottom: 5px; }
        .m-content { font-size: 24px; color: var(--text-dark); font-weight: 800; }

        /* Audio Player UI */
        .audio-player {
            background: rgba(0,0,0,0.6); color: white; padding: 10px 20px;
            border-radius: 30px; font-size: 14px; display: flex; align-items: center; gap: 15px;
            backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.3);
            margin-top: 10px; cursor: pointer; transition: transform 0.1s;
        }
        .audio-player:active { transform: scale(0.95); }
        .eq-bars { display: flex; gap: 4px; height: 15px; align-items: flex-end; opacity: 0.3; }
        .bar { width: 4px; background: #4CAF50; height: 5px; transition: height 0.1s; }
        
        .eq-active .bar { animation: eq 0.5s infinite alternate; }
        .eq-active .bar:nth-child(2) { animation-delay: 0.1s; } 
        .eq-active .bar:nth-child(3) { animation-delay: 0.2s; }
        .eq-active { opacity: 1; }

        .char-dock {
            background: rgba(255,255,255,0.2); backdrop-filter: blur(5px);
            padding: 10px; border-radius: 50%; border: 2px dashed rgba(255,255,255,0.5);
        }
        /* Token Cro-Magnon */
        .liko-token {
            width: 100px; height: 100px; background: var(--primary);
            border: 5px solid white; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            font-size: 60px; cursor: grab;
            box-shadow: 0 10px 20px rgba(255, 215, 0, 0.4);
            animation: bounce 3s infinite;
        }
        .liko-token:active { animation: none; transform: scale(0.9); cursor: grabbing; }

        /* --- UI BASSE (NAVIGATION) --- */
        .bottom-hud {
            position: absolute; bottom: 30px; left: 0; width: 100%;
            display: flex; justify-content: center; pointer-events: none; z-index: 100;
        }
        .nav-bar {
            pointer-events: auto; width: 85%; max-width: 1200px; height: 80px;
            background: white; border-radius: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            padding: 8px; display: flex; align-items: center;
        }
        .nav-track { flex: 1; height: 100%; border-radius: 32px; position: relative; overflow: hidden; display: flex; }
        .nav-seg { flex: 1; height: 100%; opacity: 0.8; transition: opacity 0.2s; cursor: pointer; border-right: 1px solid rgba(255,255,255,0.3); display: flex; justify-content: center; align-items: center; color: rgba(255,255,255,0.6); font-weight: bold; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
        .nav-seg:hover { opacity: 1; color: white; }
        .seg-1 { background: var(--c-pre); } .seg-2 { background: var(--c-ant); } .seg-3 { background: var(--c-moy); } .seg-4 { background: var(--c-mod); }
        .nav-knob { position: absolute; left: 0; top: 0; width: 25%; height: 100%; border: 6px solid white; border-radius: 32px; box-sizing: border-box; box-shadow: 0 0 0 2000px rgba(0,0,0,0.6); cursor: ew-resize; display: flex; justify-content: center; align-items: center; }
        .grip-lines { color: white; font-weight: 900; font-size: 24px; letter-spacing: -2px; }

        /* --- OVERLAYS & POLAROID --- */
        #ghost { position: fixed; font-size: 90px; opacity: 0; pointer-events: none; z-index: 9999; }
        
        .arrow-hint { position: absolute; top: 50%; transform: translateY(-50%); width: 100px; height: 100px; background: #FF4757; color: white; border-radius: 50%; font-size: 50px; display: none; justify-content: center; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.4); border: 5px solid white; animation: pulseArrow 1s infinite; z-index: 500; }
        #arrow-left { left: 50px; } #arrow-right { right: 50px; }

        #liko-landed { position: absolute; bottom: 180px; left: 15%; font-size: 18vh; display: none; filter: drop-shadow(0 10px 5px rgba(0,0,0,0.4)); animation: bounceDrop 0.8s ease-out; z-index: 5; }

        .polaroid-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 2000;
            display: none; justify-content: center; align-items: center;
            backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.5s;
        }
        .polaroid {
            background: white; padding: 20px 20px 80px 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5); transform: rotate(-3deg) scale(0.8);
            text-align: center; transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }
        .polaroid-img {
            width: 400px; height: 300px; background: #333; overflow: hidden; position: relative;
            display: flex; justify-content: center; align-items: center;
        }
        .polaroid-caption {
            position: absolute; bottom: 20px; width: 100%; left: 0;
            font-family: 'Courier New', monospace; font-weight: bold; font-size: 24px; color: #333;
        }
        .tape { position: absolute; top: -20px; left: 50%; transform: translateX(-50%); width: 150px; height: 40px; background: rgba(255,255,255,0.6); box-shadow: 0 2px 5px rgba(0,0,0,0.1); transform: rotate(2deg); }

        @keyframes pulseBtn { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes pulseArrow { 0% { transform: translateY(-50%) scale(1); } 50% { transform: translateY(-50%) scale(1.1); } 100% { transform: translateY(-50%) scale(1); } }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }
        @keyframes rotateSun { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes twinkle { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }
        @keyframes flicker { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(1.1); opacity: 0.8; } }
        @keyframes bounceDrop { 0% { transform: translateY(-50px); opacity:0; } 60% { transform: translateY(10px); opacity:1; } 100% { transform: translateY(0); } }
        @keyframes eq { 0% { height: 5px; } 100% { height: 15px; } }
